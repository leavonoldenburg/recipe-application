<div class='secondary-bar'>
  <div class='heading-secondary'>40 recipes have already been added this month!</div>
</div>

<div class="container-fluid mx-5-lg px-5 py-3">

  <div class="card form-card px-5 py-3">

    <form id="recipe-create-form" method='POST' enctype='multipart/form-data'>

      <h1>Create your own recipe</h1>

      <div class="row">
        <div class=" col-9 form-floating">
          <input id="input-title" class="form-control" type="text" name='title' placeholder="What did you cook today?">
          <label for="input-title" class="ms-4">What did you cook today?</label>
        </div>
        <div class="col">
          <input id="input-cookingtime" class="form-control form-control-sm" type="number" name='cookingTime'
            placeholder="Cooking time">
        </div>
      </div>

      <div class="row mt-4">
        <div class="col">
          <select class="form-select" name="level" id="input-level">
            <option selected>Difficulty level</option>
            <option value='Easy'>Easy</option>
            <option value='Intermediate'>Intermediate</option>
            <option value='Advanced'>Advanced</option>
          </select>
        </div>
        <div class="col">
          <select class="form-select" name='diet' id='input-diet' multiple>
            <option selected>Diet:</option>
            <option value='Omnivore'>Omnivore</option>
            <option value='Pescatarian'>Pescatarian</option>
            <option value='Vegetarian'>Vegetarian</option>
            <option value='Vegan'>Vegan</option>
          </select>
        </div>
        <div class="col">
          <select class="form-select" name='cuisine' id='input-cuisine' multiple>
            <option selected>Cuisine:</option>
            <option value='Asian'>Asian</option>
            <option value='European'>European</option>
            <option value='American'>American</option>
            <option value='African'>African</option>
          </select>
        </div>
        <div class="col">
          <select class="form-select" name='dishType' id='input-dishtype' multiple>
            <option selected>Dish Type:</option>
            <option value='Appetizers & Starters'>Appetizers & Starters</option>
            <option value='Salads'>Salads</option>
            <option value='Soups & Stews'>Soups & Stews</option>
            <option value='Beans, Grains & Legumes'>Beans, Grains & Legumes</option>
            <option value='Casseroles & Gratins'>Casseroles & Gratins</option>
            <option value='Meat dishes'>Meat dishes</option>
            <option value='Burgers'>Burgers</option>
            <option value='Pizzas'>Pizzas</option>
            <option value='Pasta & Noodles'>Pasta & Noodles</option>
            <option value='Desserts'>Desserts</option>
            <option value='Baked Goods'>Baked Goods</option>
          </select>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col">
          <div id="ingredient-container" style="display: flex; flex-direction: column">
            {{!-- <a href='/recipe/newingredient'>Add Ingredients</a> --}}

            <button type="button" id="add-ingredient">Add Ingredient!</button>
            <button type="button" id="remove-ingredient">Remove Ingredient!</button>

            <input class='input-ingredients' type="text" name="ingredients" placeholder='Ingredient 1'>

            <script>

              let ingredientCount = 1;

              const ingredientsContainerElement = document.getElementById('ingredient-container');
              const addIngredientButtonElement = document.getElementById('add-ingredient');
              const removeIngredientButtonElement = document.getElementById('remove-ingredient');

              addIngredient = () => {
                ingredientCount++;
                const newIngredientElement = document.createElement("input");
                document.getElementById("ingredient-container").appendChild(newIngredientElement);
                newIngredientElement.setAttribute('class', 'input-ingredients');
                newIngredientElement.setAttribute('type', 'text');
                newIngredientElement.setAttribute('name', 'ingredients');
                newIngredientElement.setAttribute('placeholder', `Ingredient ${ingredientCount}`);
                console.log(ingredientCount);
              }

              removeIngredient = () => {
                if (ingredientsContainerElement.lastElementChild.getAttribute('class') === 'input-ingredients') {
                  if (ingredientCount > 0) ingredientCount--;
                  ingredientsContainerElement.removeChild(ingredientsContainerElement.lastElementChild);
                }
              }

              addIngredientButtonElement.addEventListener('click', addIngredient);
              removeIngredientButtonElement.addEventListener('click', removeIngredient);

            </script>

          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col">
          <span class="input-group-text">How to make the dish</span>
          <textarea id="input-instructions" class="form-control" name="instructions"></textarea>
        </div>
      </div>

      <div class="row my-4">
        <div class="col">
          <input type="file" class="form-control" id="input-picture" name="picture" accesp="image/*"
            buttonText="Your label here." required>
        </div>
      </div>

      <button>Publish your recipe</button>

    </form>
  </div>
</div>
